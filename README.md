# 経営計画策定WEBアプリ（Streamlit版）

## 使い方
1. Python 3.10+ を用意してください。
2. 仮想環境を作成し、依存関係をインストールします。

```bash
python -m venv .venv
source .venv/bin/activate  # Windows: .venv\Scripts\activate
pip install -r requirements.txt
```

3. アプリを起動します。

```bash
streamlit run app.py
```

## 機能概要
- 単年利益計画（売上、外部仕入、内部費用、営業外）
- KPI（損益分岐点、一人当たり、労働分配率）
- シナリオ比較（売上±、粗利±、目標経常、昨年同一、BEP）
- 感応度分析（トルネード図）
- Excelエクスポート（数値/KPI/感応度）

## 将来的な拡張と学習支援

### 業界ベンチマーク比較
- 中小企業庁や商工会議所が公表している業種別平均財務指標（売上成長率、営業利益率、在庫回転日数など）を取り込み、ユーザーの入力値と比較して偏差を提示する予定です。
- KPI が業界平均を下回る場合は、改善施策の候補を自動提案します（例：飲食業で粗利率が低い場合はメニュー構成の見直しや仕入れ先交渉を提案）。

### 経営フレームワークの実装
- ファイブフォース分析やバリューチェーン分析を行う入力フォームを追加し、定性分析結果をレポートに反映できるようにします。
- バランス・スコアカード（財務・顧客・内部プロセス・学習と成長）の KPI 設定とトラッキング機能を追加し、中長期的な経営戦略の策定を支援します。

### AI アシスタントの搭載
- 入力値やシナリオ結果をもとに AI がコメントを生成し、「営業利益率が -12% と低いので人件費と原価率を各 3% 改善すると黒字化する見込み」といった改善案を提示します。
- 「来期の資金繰りは大丈夫か？」といった質問に対して収支推移や DSCR を回答するチャットボット機能を実装し、質問型インターフェースによる意思決定支援を行います。

### さらなる機能拡張
- **外部データ連携の拡充**: API 機能が利用可能になれば、freee、マネーフォワード、Square 等の会計・POS データを直接インポートできるようにし、売上計画や経費計画を自動補完することで精度と効率を高めます。
- **学習コンテンツとケーススタディ**: ヘルプセンターに小規模事業者向けの成功事例やベストプラクティスを追加し、ユーザーが自身の業種に近い参考事例を閲覧できるようにします。
- **コラボレーション機能**: 作成した計画を共有 URL で外部に共有し、税理士や他の経営メンバーがコメント・編集できる共同編集モードを実装します。
- **音声入力・チャットボット**: スマホ利用時には音声入力で項目を埋められるようにし、AI チャットボットがフレームワークの質問に答えるサポートを行うことで、さらに直感的な操作を実現します。

## 注意
- 計算はすべて「円」ベース、表示のみ「百万円/千円/円」を切替。
- 金額上書きは率より優先（固定費扱い）。
- 目標経常利益の逆算は二分探索で±1,000円まで収束。
